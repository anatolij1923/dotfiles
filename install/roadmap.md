### __Roadmap: The Ultimate Install Script__

__Цель:__ Создать гибкий, надёжный и интерактивный скрипт для полной настройки системы, от базовых пакетов до персональных конфигураций.

__Фаза 1: Фундамент и структура__

1. __Разделение пакетов:__

   - __Действие:__ Создать два новых файла конфигурации:

     1. `essential.conf`: Будет содержать только самые необходимые пакеты для работы вашего окружения (WM, терминал, основные утилиты).
     2. `extra.conf`: Будет содержать всё остальное (браузеры, IDE, дополнительные приложения, шрифты и т.д.).

   - __Результат:__ Более гранулярный контроль над тем, что устанавливать. Позволит легко развернуть "минимальную" или "полную" систему.





1. __Создание функции `try`:__

   - __Действие:__ В `utils.sh` написать функцию-обёртку `try`, которая перехватывает ошибки и предлагает пользователю выбор: `[П]овторить`, `[П]ропустить`, `[В]ыйти`.
   - __Результат:__ Повышение надёжности скрипта. Ни одна ошибка не прервёт процесс без контроля со стороны пользователя.

__Фаза 2: Интерактивность и основной сценарий__

1. __Главное меню (`install.sh`):__

   - __Действие:__ В самом начале `install.sh` реализовать меню выбора режима установки:

     - `[1] Minimal Install`: Устанавливает только пакеты из `essential.conf`.
     - `[2] Full Install`: Устанавливает пакеты из `essential.conf` и `extra.conf`.
     - `[3] Custom Install`: Позволяет выбрать, какие категории пакетов и dotfiles устанавливать.

   - __Результат:__ Максимальная гибкость при запуске.

2. __Режим подтверждения:__

   - __Действие:__ Добавить в главное меню опцию "Включить режим подтверждения [Y/n]". Если выбрано "Y", то перед каждым вызовом, обёрнутым в `try`, скрипт будет дополнительно спрашивать "Продолжить? [Y/n]".
   - __Результат:__ Полный контроль над каждым шагом для "ручного" режима установки.

__Фаза 3: Управление Dotfiles__

1. __Скрипт `install_dotfiles.sh`:__

   - __Действие:__ Написать скрипт, который:

     1. Автоматически находит все папки с конфигурациями в вашем репозитории (например, `hyprland`, `nvim`, `kitty`).
     2. Показывает пользователю список этих папок с чекбоксами (можно использовать простой цикл `read` или более продвинутые инструменты).
     3. Пользователь выбирает, какие dotfiles он хочет установить.
     4. Для каждого выбранного конфига скрипт делает бэкап существующего файла/папки в `~/.config` и копирует новый.

   - __Результат:__ Безопасная и выборочная установка персональных конфигураций.

__Фаза 4: Сборка и завершение__

1. __Интеграция всего вместе:__

   - __Действие:__ В `install.sh` связать все части:

     1. Показать главное меню.
     2. В зависимости от выбора, подключить нужные `.conf` файлы.
     3. Обернуть все ключевые операции (установка `yay`, установка каждой группы пакетов, запуск `install_dotfiles.sh`, активация служб) в функцию `try` с учётом режима подтверждения.

   - __Результат:__ Единый, логичный и мощный установочный скрипт.

2. __Финальная полировка:__

   - __Действие:__ Добавить цветной вывод и чёткие заголовки для каждого этапа, чтобы улучшить читаемость.
   - __Результат:__ Профессионально выглядящий и приятный в использовании инструмент.
